############################################################
# Test / Dev requirements for Smappee EV integration
# Pin versions to avoid resolver conflicts and flaky CI.
############################################################

# Pytest + async support (choose latest plugin variant requiring pytest-asyncio 0.24.0)
pytest>=8.2,<9
pytest-asyncio==0.24.0
pytest-homeassistant-custom-component==0.13.205

# Home Assistant core + type stubs (keep in sync!)
# If homeassistant-stubs 2025.1.4 does not exist, downgrade both to 2025.1.1.
homeassistant==2025.1.4
homeassistant-stubs==2025.1.4

# MQTT: pytest-homeassistant-custom-component currently pins paho-mqtt==1.6.1.
# To avoid conflict with aiomqtt>=2 (needs paho>=2.1), we stub aiomqtt in tests.
# (No explicit aiomqtt or paho-mqtt pin here; paho-mqtt 1.6.1 pulled transitively.)

# Linting
ruff>=0.6.2
